<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday Website 2.0 | Aoudumber Bade">
    <meta name="github" content="https://github.com/Aoudumber-Bade">
    <title>RUUUUN Birthday</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>
    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="images/hat.png" alt="" width="130">
                    </div>
                </div>
                <div class="date__of__birth">
                    <span></span>
                </div>
                <div class="btn">
                    <button id="btn__letter">
                        <div class="mail">
                            Click Here Ruun
                            <i class="fa-regular fa-envelope"></i>
                        </div>
                    </button>

                </div>
            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="images/unnamed.png" alt="">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Dear Ruun</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one balloon">
                        <img width="100px" src="images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two balloon">
                        <img width="100px" src="images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                        <span style="--i: 16;">R</span>
                        <span style="--i: 17;">U</span>
                        <span style="--i: 18;">U</span>
                        <span style="--i: 19;">N</span>
                        <span style="--i: 20;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>
        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_bottom">
            <img src="images/decorate.png" alt="" width="100">
        </div>
        <div class="smiley__icon">
            <img src="images/smiley_icon.png" alt="" width="100">
        </div>


        <div class="boxMail">
            <i class="fa-solid fa-xmark"></i>
            <div class="boxMail-container">
                <div class="card1">
                    <div class="userImg">
                        <img src="images/unnamed.png" alt="">
                    </div>
                    <h4 class="username">To: Ruun üíñ<span class="underline"></span></h4>

                    <h3>Happy Birthday</h3>
                    <div class="imageCute">
                        <img src="cute1.png" alt="">
                    </div>
                </div>
                <div class="card2">
                    <div class="card2-content">
                        <h3>üí´Happy Birthday, My Favorite Personüí´</h3>
                        <h2>Allooo majorr, Happy birthdayy wohoo, today is yourr dayy. 
                        the day the world got blessed with you. Words can never express how much you mean to me. You have become such an important part of my life that even when you are not around, everything reminds me of you. I miss you more than I can explain and love you more than I can ever say. You are my peace, my happiness, and my everything. Enjoy every moment today ‚Äî you deserve all the love, laughter, and joy.
                         Happy Birthdayyy. I Lob You So SO Much MWAHH‚ù§Ô∏èüòå
                        </h2>

                        <div class="imageCute2">
                            <img src="cute2.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
<script>
    let datetxt = "14 November";
    let datatxtletter = "My love. You are a very special girl. I always silently thank you for coming into my life. Today, I wish you all the best, lots of health, and lots of joy. I always hope we will celebrate many more birthdays like this together. Happy birthday to you.üíï";
    let titleLetter = "To you";
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    setTimeout(function () {
        timeDatetxt = setInterval(function () {
            if (currentIndex < charArrDate.length) {
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            }
            else {
                let i = document.createElement("i");
                i.className = "fa-solid fa-star"
                document.querySelector(".date__of__birth").prepend(i)
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                clearInterval(timeDatetxt)
            }
        }, 100)
    }, 12000)

    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function () {
        $(".box__letter").slideDown()
        setTimeout(function () {
            $(".letter__border").slideDown();
        }, 1000)
        setTimeout(function () {
            intervalTitle = setInterval(function () {
                if (currentIndexTitle < charArrTitle.length) {
                    document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-heart"
                    document.querySelector(".title__letter").appendChild(i)
                    currentIndexTitle++;
                }
                else {
                    clearInterval(intervalTitle)
                }
            }, 100)
        }, 2000)
        setTimeout(function () {
            document.querySelector("#heart__letter").classList.add("animationOp");
            document.querySelector(".love__img").classList.add("animationOp");
            document.querySelector("#mewmew").classList.add("animationOp");
        }, 2800)
        setTimeout(function () {
            document.querySelectorAll(".heart").forEach((item) => {
                item.classList.add("animation")
            })
        }, 3500)
        setTimeout(function () {
            intervalContent = setInterval(function () {
                if (currentIndexLetter < charArrDateLetter.length) {
                    text__letter.textContent += charArrDateLetter[currentIndexLetter];
                    currentIndexLetter++;
                }
                else {
                    clearInterval(intervalContent)
                }
            }, 50)
        }, 6000)
    })
    $(".close").on("click", function () {
        clearInterval(intervalContent)
        document.querySelector(".title__letter").textContent = "";
        text__letter.textContent = "";
        currentIndexLetter = 0
        currentIndexTitle = 0
        document.querySelector("#heart__letter").classList.remove("animationOp");
        document.querySelector(".love__img").classList.remove("animationOp");
        document.querySelector("#mewmew").classList.remove("animationOp");
        document.querySelectorAll(".heart").forEach((item) => {
            item.classList.remove("animation")
        })
        $(".box__letter").slideUp();
        $(".letter__border").slideUp();
    })



    let mailBox = document.querySelector('.mail')
    let boxmail = document.querySelector('.boxMail')
    var close = document.querySelector('.fa-xmark')
    mailBox.onclick = function () {
        mailBox.classList.toggle('active')
        boxmail.classList.add('active')
    }

    close.addEventListener('click', function () {
        boxmail.classList.remove('active')
    })


    /* ---------- Balloon Popping Feature ---------- */
    document.addEventListener('DOMContentLoaded', function() {
        // Add click event listeners to balloons
        const balloons = document.querySelectorAll('.balloon');
        
        balloons.forEach(balloon => {
            balloon.addEventListener('click', function(e) {
                // Create heart effect
                createHeartEffect(e);
                
                // Pop animation
                balloon.classList.add('popping');
                
                // Hide balloon after animation
                setTimeout(() => {
                    balloon.style.visibility = 'hidden';
                    balloon.classList.remove('popping');
                    
                    // Regenerate balloon after 2-3 seconds
                    setTimeout(() => {
                        balloon.classList.add('regenerating');
                        balloon.style.visibility = 'visible';
                        
                        // Remove regeneration class after animation
                        setTimeout(() => {
                            balloon.classList.remove('regenerating');
                        }, 500);
                    }, 2000 + Math.random() * 1000); // Random delay between 2-3 seconds
                }, 300);
            });
        });
        
        function createHeartEffect(e) {
            const heart = document.createElement('div');
            heart.className = 'heart-effect';
            heart.innerHTML = '‚ù§';
            
            // Position heart at click location
            const rect = e.currentTarget.getBoundingClientRect();
            heart.style.left = `${rect.left + rect.width/2}px`;
            heart.style.top = `${rect.top + rect.height/2}px`;
            
            document.body.appendChild(heart);
            
            // Remove heart after animation
            setTimeout(() => {
                heart.remove();
            }, 1500);
        }
    });

    /* ---------- ADDED: hearts background script (only appended; didn't change existing code) ---------- */

    (function(){
        // Inject CSS rules for floating hearts
        const heartStyles = `
        /* hearts background - added */
        #wrapper { position: relative; z-index: 1; }
        .floating-heart {
            position: absolute;
            bottom: 30px;
            font-size: 20px;
            pointer-events: none;
            user-select: none;
            opacity: 0;
            transform: translateY(0) scale(0.6);
            animation-name: riseAndFade, wobble;
            animation-timing-function: cubic-bezier(.2,.8,.2,1), ease-in-out;
            animation-fill-mode: forwards;
            color: var(--color-heart);
            filter: drop-shadow(0 0 6px rgba(255,120,130,0.6));
            will-change: transform, opacity;
            z-index: 0; /* behind most content but above the pure page background */
        }
        @keyframes riseAndFade{
            0%{ opacity: 0; transform: translateY(0) scale(0.6); }
            5%{ opacity: 1; }
            40%{ opacity: 1; }
            100%{ opacity: 0; transform: translateY(-260px) scale(1.05); }
        }
        @keyframes wobble{
            0%{ transform: translateY(0) rotate(0deg); }
            25%{ transform: translateY(-60px) rotate(-8deg); }
            50%{ transform: translateY(-120px) rotate(6deg); }
            75%{ transform: translateY(-180px) rotate(-6deg); }
            100%{ transform: translateY(-260px) rotate(0deg); }
        }
        /* different sizes for variety */
        .floating-heart.size-sm{ font-size: 14px; }
        .floating-heart.size-md{ font-size: 20px; }
        .floating-heart.size-lg{ font-size: 30px; }
        .floating-heart.size-xl{ font-size: 46px; }
        `;

        const styleEl = document.createElement('style');
        styleEl.setAttribute('data-injected','hearts-bg');
        styleEl.appendChild(document.createTextNode(heartStyles));
        document.head.appendChild(styleEl);

        const wrapper = document.getElementById('wrapper') || document.body;

        // Create hearts at random positions and intervals
        function createHeart(){
            const heart = document.createElement('span');
            heart.className = 'floating-heart';
            // choose heart glyph; using unicode heart for simplicity
            heart.textContent = '‚ù§';
            // random horizontal position within wrapper
            const wrapperRect = wrapper.getBoundingClientRect();
            const left = Math.random() * (wrapperRect.width - 30);
            heart.style.left = `${left}px`;
            // random animation duration and delay
            const dur = 3000 + Math.floor(Math.random() * 2200); // 3s - 5.2s
            heart.style.animationDuration = `${dur}ms, ${dur}ms`;
            // random size class
            const sizes = ['size-sm','size-md','size-lg','size-xl'];
            heart.classList.add(sizes[Math.floor(Math.random() * sizes.length)]);
            // small random horizontal drift via transform origin tweak
            const rotate = (Math.random()*60 - 30).toFixed(2);
            heart.style.transform = `translateY(0) rotate(${rotate}deg) scale(0.6)`;
            wrapper.appendChild(heart);

            // remove after animation ends
            setTimeout(()=>{
                if(heart && heart.parentNode) heart.parentNode.removeChild(heart);
            }, dur + 50);
        }

        // Start producing hearts; keep reasonable rate
        const heartInterval = setInterval(createHeart, 650);

        // Create an initial gentle burst
        for(let i=0;i<6;i++){
            setTimeout(createHeart, i*120);
        }

        // If the page becomes hidden (tab change), pause creation to save resources
        document.addEventListener('visibilitychange', function(){
            if(document.hidden){ clearInterval(heartInterval); }
            else {
                // resume
                setInterval(createHeart, 650);
            }
        });

    })();

</script>

</html>